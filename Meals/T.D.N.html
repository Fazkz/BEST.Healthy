<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ูุธุงู ุงูุชุบุฐูุฉ ุงููุชูุฏู ูุน ุงูููุถูุฉ ูุฅูุดุงุก ุทุนุงู</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="diet.css">
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css">
</head>
<body class="bg-white text-black max-w-md mx-auto min-h-screen flex flex-col relative">

  <!-- Hamburger Sidebar -->
  <aside
    id="sidebar"
    class="fixed top-0 bottom-0 right-0 w-64 bg-white shadow-lg z-50 closed flex flex-col"
    aria-label="ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ"
  >
    <header class="flex justify-between items-center p-4 border-b border-gray-200">
      <h2 class="text-lg font-semibold">ุงููุงุฆูุฉ</h2>
      <button id="closeSidebarBtn" aria-label="ุฅุบูุงู ุงููุงุฆูุฉ" class="text-2xl">
        <i class="fas fa-times"></i>
      </button>
    </header>
    <nav class="flex flex-col gap-2 p-4 text-gray-700 text-base">
      <a href="index.html" class="flex items-center gap-3 hover:text-blue-600">
        <i class="fas fa-home text-lg w-6"></i> ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
      </a>
      <a href="SPORTS/SA.html" class="flex items-center gap-3 hover:text-blue-600">
        <i class="fas fa-dumbbell text-lg w-6"></i> ุงูุชูุงุฑูู
      </a>
      <a href="#" class="flex items-center gap-3 hover:text-blue-600">
        <i class="fas fa-calculator text-lg w-6"></i> ุงูุขูุฉ ุงูุญุงุณุจุฉ
      </a>
      <a href="book/A.html" class="flex items-center gap-3 hover:text-blue-600">
        <i class="fas fa-info-circle text-lg w-6"></i>ุงูุนูุงุตุฑ ุงูุบุฐุงุฆูุฉ
      </a>
    </nav>
<a
href="https://drive.google.com/file/d/14aAsda-q9kJ8OVUWkzxnIGbES-JabiIH/view?usp=drivesdk"
    download="Nizamak_Alghithaee.pdf"
    class="inline-flex items-center space-x-2 space-x-reverse bg-green-200 text-green-800 text-sm font-semibold px-3 py-1.5 rounded-md hover:bg-green-300 transition">
    <span>ูุธุงูู ุงูุบุฐุงุฆู</span>
    <i class="fas fa-download"></i>
  </a> 
  </aside>

  <!-- Overlay for sidebar -->
  <div
    id="sidebarOverlay"
    class="fixed inset-0 bg-black bg-opacity-30 z-40 hidden"
    tabindex="-1"
  ></div>
  <!-- Header -->
  <header
    class="flex items-center justify-between p-4 border-b border-gray-200 sticky top-0 bg-white z-30"
  >
    <button
      id="openSidebarBtn"
      aria-label="ูุชุญ ุงููุงุฆูุฉ"
      class="text-2xl text-gray-800"
    >
      <i class="fas fa-bars"></i>
    </button>
    <h1 class="text-lg font-normal">ูุธุงู ุงูุชุบุฐูุฉ๐งพ</h1>
    <div class="w-6"></div>
  </header>

  <!-- Toggle Calendar Button -->
  <div class="px-4 pt-4">
    <button
      id="toggleCalendarBtn"
      class="w-full bg-gray-300 text-gray-700 text-sm rounded-md py-1.5 flex justify-center items-center gap-1"
      aria-expanded="true"
      aria-controls="calendarSection"
    >
      ุฅุฎูุงุก/ุฅุธูุงุฑ ุชูููู ุงูุชุงุฑูุฎ
      <i class="fas fa-chevron-down text-xs"></i>
    </button>
  </div>

  <!-- Calendar Section -->
  <section
    id="calendarSection"
    class="bg-white rounded-xl shadow-md mx-4 mt-4 p-4 select-none"
    aria-label="ุชูููู ุงูุชุงุฑูุฎ"
  >
    <div
      class="flex justify-between items-center mb-2 text-sm font-semibold text-gray-800"
    >
<button
id="prevMonthBtn"
aria-label="ุงูุดูุฑ ุงูุณุงุจู"
class="flex items-center gap-1">
<i class="fas fa-chevron-right"></i>
        ุงูุดูุฑ ุงูุณุงุจู
      </button>
      <div id="calendarMonthYear" class="text-center font-semibold"></div>
<button
id="nextMonthBtn"
aria-label="ุงูุดูุฑ ุงูุชุงูู"
class="flex items-center gap-1">
        ุงูุดูุฑ ุงูุชุงูู
<i class="fas fa-chevron-left"></i>
      </button>
    </div>
    <div id="calendarDays" class="grid grid-cols-7 gap-2 text-center text-sm font-normal text-gray-800"></div>
  </section>

  <!-- Buttons below calendar -->
  <section class="flex gap-4 px-4 mt-4">
<button
      id="deleteAllBtn"
      class="flex-1 bg-red-700 text-white text-sm py-2 rounded-md font-semibold"
      type="button"
    >
<i class="fa-solid fa-trash"></i>ุญุฐู ุงููุธุงู ุงูุบุฐุงุฆู ูุงูู
    </button>
<button
      id="goTodayBtn"
      class="flex-1 bg-blue-500 text-white text-sm py-2 rounded-md font-semibold"
      type="button">
<i class="fa-solid fa-backward"></i>
      ุงูุฑุฌูุน ููููู
    </button>
  </section>
<!--ุฌุฏูู ุงูุงุญุชูุงุฌ -->
<div class="needs-card">
  <i class="fa-solid fa-pen-to-square edit-icon" id="editBtn" title="ุชุนุฏูู"></i>
  <div class="grid-container">
    <div class="need-box" id="caloriesBox">๐ฅ <span id="caloriesValue">0</span> ุณุนุฑุฉ</div>
    <div class="need-box" id="fatBox">๐ฅ <span id="fatValue">0</span> ุฌู ุฏููู</div>
    <div class="need-box" id="carbBox">๐ <span id="carbValue">0</span> ุฌู ูุงุฑุจ</div>
    <div class="need-box" id="proteinBox">๐ <span id="proteinValue">0</span> ุฌู ุจุฑูุชูู</div>
  </div>
</div>

<!-- ุงููุงูุฐุฉ ุงูููุจุซูุฉ -->
<div class="popup" id="popup">
  <div class="popup-content">
    <span class="close-btn" id="closePopup">&times;</span>
    <h2>ุชุนุฏูู ุงูุงุญุชูุงุฌุงุช</h2>
    <form id="needsForm">
      <label>ุงูุณุนุฑุงุช ุงูุญุฑุงุฑูุฉ:</label>
      <input type="number" id="caloriesInput" required>
      
      <label>ุงูุฏููู (ุฌู):</label>
      <input type="number" id="fatInput" required>
      
      <label>ุงููุงุฑุจ (ุฌู):</label>
      <input type="number" id="carbInput" required>
      
      <label>ุงูุจุฑูุชูู (ุฌู):</label>
      <input type="number" id="proteinInput" required>
      
      <button type="submit" class="save-btn">ุญูุธ</button>
    </form>
  </div>
</div>
 <!-- ููุฎุต ุงูุชุบุฐูุฉ -->
  <section
    id="nutritionSummary"
    class="bg-gray-50 rounded-lg mx-4 mt-6 p-4"
    aria-label="ููุฎุต ุงูุชุบุฐูุฉ"
  >
    <h3 class="font-semibold mb-3">ููุฎุต ุงูุชุบุฐูุฉ</h3>
    <div class="grid grid-cols-2 gap-4 text-center text-xs font-semibold">
      <div class="bg-white rounded-md py-3 calories">
        <p class="text-yellow-400 mb-1">ุงูุณุนุฑุงุช ุงูุญุฑุงุฑูุฉ</p>
        <p id="caloriesSummary" class="text-yellow-400 text-2xl font-bold">0</p>
      </div>
      <div class="bg-white rounded-md py-3 fats">
        <p class="text-red-600 mb-1">ุฏููู</p>
        <p id="fatSummary" class="text-red-600 text-2xl font-bold">0,0 ุฌ</p>
      </div>
      <div class="bg-white rounded-md py-3 protein">
        <p class="text-teal-600 mb-1">ุจุฑูุชูู</p>
        <p id="proteinSummary" class="text-teal-600 text-2xl font-bold">0,0 ุฌ</p>
      </div>
      <div class="bg-white rounded-md py-3 carbs">
        <p class="text-yellow-700 mb-1">ูุงุฑุจ</p>
        <p id="carbSummary" class="text-yellow-700 text-2xl font-bold">0,0 ุฌ</p>
      </div>
    </div>
  </section>
  <!-- Add food to table -->
  <section class="flex items-center gap-3 px-4 mt-6">
    <button
    id="openAddFoodModalBtn"
   </button>
    </button>
  </section>
  <!-- ูุณู ุงููุฌุจุงุช -->
  <section
    id="mealsSection"
    class="px-4 mt-6 space-y-6 flex-1 overflow-auto meals-scroll"
    aria-label="ูุฌุจุงุช ุงูููู"
  >
    <!-- Meals will be dynamically inserted here -->
  </section>
  <!-- Add Food Modal -->
  <div
    id="addFoodModal"
    class="fixed inset-0 flex items-center justify-center z-50 hidden overlay"
    role="dialog"
    aria-modal="true"
    aria-labelledby="addFoodModalTitle"
  >
    <div
      class="bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col"
    >
      <header class="flex justify-between items-center p-4 border-b border-gray-200">
        <h2 id="addFoodModalTitle" class="text-lg font-semibold">ุฅุถุงูุฉ ุทุนุงู</h2>
        <button
          id="closeAddFoodModalBtn"
          aria-label="ุฅุบูุงู"
          class="text-2xl text-gray-700"
        >
          <i class="fas fa-times"></i>
        </button>
      </header>
      <section class="p-4 flex flex-col gap-3 flex-1 overflow-hidden">
        <!-- Search and filter -->
        <form
          id="foodSearchForm"
          class="flex gap-2"
          onsubmit="return false"
          aria-label="ุจุญุซ ูููุชุฑุฉ ุงูุฃุทุนูุฉ"
        >
<input
id="foodSearchInput"
type="search"
placeholder="ุงุจุญุซ ุนู ุงูุทุนุงู"
class="flex-1 border border-gray-300 rounded-md px-3 py-1 text-sm"
aria-label="ูุญุฑู ุจุญุซ ุนู ุงูุทุนุงู"/>
<button
id="foodSearchBtn"
type="submit"
class="bg-black text-white px-3 rounded-md text-sm font-semibold"
aria-label="ุฒุฑ ุงูุจุญุซ">
            ุจุญุซ
</button>
          <select
id="foodFilterSelect"
class="border border-gray-300 rounded-md px-2 py-1 text-sm"
aria-label="ููุชุฑ ุงูุฃุทุนูุฉ">
  <option value="random">ุชุฑุชูุจ ุนุดูุงุฆู</option>
 <option value="caloriesAsc">ุงูุณุนุฑุงุช ูู ุงูุฃูู ุฅูู ุงูุฃุนูู</option>
     <option value="caloriesDesc">ุงูุณุนุฑุงุช ูู ุงูุฃุนูู ุฅูู ุงูุฃูู</option>
     <option value="fatAsc">ุงูุฏููู ูู ุงูุฃูู ุฅูู ุงูุฃุนูู</option>
     <option value="fatDesc">ุงูุฏููู ูู ุงูุฃุนูู ุฅูู ุงูุฃูู</option>
      <option value="proteinAsc">ุงูุจุฑูุชูู ูู ุงูุฃูู ุฅูู ุงูุฃุนูู</option>
     <option value="proteinDesc">ุงูุจุฑูุชูู ูู ุงูุฃุนูู ุฅูู ุงูุฃูู</option>
      <option value="carbAsc">ุงููุงุฑุจ ูู ุงูุฃูู ุฅูู ุงูุฃุนูู</option>
      <option value="carbDesc">ุงููุงุฑุจ ูู ุงูุฃุนูู ุฅูู ุงูุฃูู</option>
          </select>
        </form>
        <!-- ูุฆุงุช -->
<div class="flex flex-col gap-2 overflow-hidden flex-1">
<div
id="mainCategories"
class="flex gap-3 overflow-x-auto maincat-scroll pb-2"
role="list"
aria-label="ุงูุชุตูููุงุช ุงูุฃุณุงุณูุฉ">
<!-- Main categories inserted by JS -->
  </div>
<div
id="subCategories"
class="flex gap-3 overflow-x-auto subcat-scroll pb-2"
role="list"
aria-label="ุงูุชุตูููุงุช ุงููุฑุนูุฉ">
<!--ุงูุชุตูููุงุช ุงููุฑุนูุฉ ูู ุฌุงูุง-->
         </div>
        </div>
        <!-- Food list -->
        <div
          id="foodList"
          class="overflow-y-auto food-list-scroll flex flex-col gap-3 relative"
          aria-label="ูุงุฆูุฉ ุงูุฃุทุนูุฉ"
        >
          <!-- Food items inserted by JS -->
        </div>
      </section>
    </div>
  </div>
  <!-- Food Detail Modal -->
  <div
    id="foodDetailModal"
    class="fixed inset-0 flex items-center justify-center z-50 hidden overlay"
    role="dialog"
    aria-modal="true"
    aria-labelledby="foodDetailModalTitle"
  >
    <div
      class="bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-auto flex flex-col"
    >
      <header class="flex justify-between items-center p-4 border-b border-gray-200">
        <h2 id="foodDetailModalTitle" class="text-lg font-semibold"></h2>
        <button
          id="closeFoodDetailModalBtn"
          aria-label="ุฅุบูุงู"
          class="text-2xl text-gray-700"
        >
          <i class="fas fa-times"></i>
        </button>
      </header>
      <section class="p-4 flex flex-col gap-4">
        <img
          id="foodDetailImage"
          src=""
          alt=""
          class="w-full h-48 object-cover rounded-md"
        />
        <div>
          <h3 class="font-semibold mb-2">ุงูููู ุงูุบุฐุงุฆูุฉ ููู 100 ุฌู</h3>
        <ul class="text-sm space-y-1" id="foodNutritionDetails">
            <!-- Nutrition details inserted by JS -->
          </ul>
        </div>
        <form id="addFoodToMealForm" class="flex flex-col gap-3" onsubmit="return false" aria-label="ุฅุถุงูุฉ ุทุนุงู ุฅูู ูุฌุจุฉ">
          <label for="mealSelect" class="font-semibold">ุงุฎุชุฑ ุงููุฌุจุฉ</label>
          <select
            id="mealSelect"
            class="border border-gray-300 rounded-md px-3 py-1"
            required
            aria-required="true"
          >
<option value="" disabled selected>ุงุฎุชุฑ ุงููุฌุจุฉ</option>
<option value="breakfast">ุฅูุทุงุฑ</option>
<option value="lunch">ุบุฏุงุก</option>
<option value="dinner">ุนุดุงุก</option>
<option value="snack">ูุฌุจุฉ ุฎูููุฉ</option>
</select>
<label for="quantityInput" class="font-semibold">ุงููููุฉ (ุบุฑุงู)
</label>
<input
id="quantityInput"
type="number"
min="1"
value="100"
class="border border-gray-300 rounded-md px-3 py-1"
aria-label="ูููุฉ ุงูุทุนุงู ุจุงูุบุฑุงู"
required/>
<button
id="addFoodToMealBtn"
type="submit"
class="bg-black text-white py-2 rounded-md font-semibold">
            ุฅุถุงูุฉ ุทุนุงู
</button>
        </form>
      </section>
    </div>
  </div>

  <!-- Create Food Modal -->
  <div id="createFoodModal" class="fixed inset-0 flex hidden" role="dialog" aria-modal="true" aria-labelledby="createFoodModalTitle">
    <div class="modal-content relative">
      <button aria-label="ุฅุบูุงู" class="modal-close-btn" id="closeCreateFoodModalBtn"><i class="fas fa-times"></i></button>
      <h2 id="createFoodModalTitle">ุฅูุดุงุก ุทุนุงู</h2>
      <form id="createFoodForm" onsubmit="return false;" novalidate>
        <!-- ุงูุจุทุงูุฉ ุงูุฃููู -->
        <label for="foodName">ุงุณู ุงูุทุนุงู <span class="text-red-600">*</span></label>
        <input type="text" id="foodName" name="foodName" required aria-required="true" autocomplete="off" />
        <label for="companyName">ุงุณู ุงูุดุฑูุฉ ุงูููุชุฌุฉ (ุงุฎุชูุงุฑู)</label>
        <input type="text" id="companyName" name="companyName" autocomplete="off" />
        <label for="foodCategory">ุงูุชุตููู</label>
        <input type="text" id="foodCategory" name="foodCategory" value="ูุฌุจุงุชู" readonly tabindex="-1" aria-readonly="true" />
        <!-- ุงูุจุทุงูุฉ ุงูุซุงููุฉ -->
        <label for="portion">ุงูููุฏุงุฑ/ุงูุญุตุฉ (ุงุฎุชูุงุฑู)</label>
        <input type="text" id="portion" name="portion" autocomplete="off" />
        <label for="weight">ุงููุฒู <span class="text-red-600">*</span></label>
        <div class="flex gap-2">
          <input type="number" id="weight" name="weight" min="0.1" step="0.1" required aria-required="true" class="flex-grow" />
          <select id="weightUnit" name="weightUnit" required aria-required="true" class="w-24">
            <option value="">ุงุฎุชุฑ ุงููุญุฏุฉ</option>
            <option value="ุฌุฑุงู">ุฌุฑุงู</option>
            <option value="ูู">ูู</option>
          </select>
        </div>
        <!-- ุงูุจุทุงูุฉ ุงูุซุงูุซุฉ -->
        <label for="calories">ุงูุณุนุฑุงุช ุงูุญุฑุงุฑูุฉ (ุฌุฑุงู) <span class="text-red-600">*</span></label>
        <input type="number" id="calories" name="calories" min="0" step="0.1" required aria-required="true" />
        <label for="protein">ุงูุจุฑูุชูู (ุฌุฑุงู) <span class="text-red-600">*</span></label>
        <input type="number" id="protein" name="protein" min="0" step="0.1" required aria-required="true" />
        <label for="carb">ุงููุฑุจูููุฏุฑุงุช (ุฌุฑุงู) <span class="text-red-600">*</span></label>
        <input type="number" id="carb" name="carb" min="0" step="0.1" required aria-required="true" />
        <label for="fat">ุงูุฏููู (ุฌุฑุงู) <span class="text-red-600">*</span></label>
        <input type="number" id="fat" name="fat" min="0" step="0.1" required aria-required="true" />
        <!-- ุงูุจุทุงูุฉ ุงูุฑุงุจุนุฉ -->
        <label for="imageUrl">ุฑุงุจุท ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู)</label>
        <input type="url" id="imageUrl" name="imageUrl" placeholder="https://example.com/image.jpg" autocomplete="off" />
        <label for="imageFile">ุฃู ุงุฎุชุฑ ุตูุฑุฉ ูู ุฌูุงุฒู (ุงุฎุชูุงุฑู)</label>
        <input type="file" id="imageFile" name="imageFile" accept="image/*" />
        <button type="submit" id="submitCreateFoodBtn">ุฅุถุงูุฉ</button>
      </form>
    </div>
  </div>

  <!-- Favorites Modal -->
  <div id="favoritesModal" class="fixed inset-0 flex hidden" role="dialog" aria-modal="true" aria-labelledby="favoritesModalTitle">
    <div class="modal-content relative">
      <button aria-label="ุฅุบูุงู" class="modal-close-btn" id="closeFavoritesModalBtn"><i class="fas fa-times"></i></button>
      <h2 id="favoritesModalTitle">ุงูููุถูุฉ</h2>
      <div id="favoritesList" tabindex="0" aria-label="ูุงุฆูุฉ ุงูุฃุทุนูุฉ ุงูููุถูุฉ">
        <!-- ุนูุงุตุฑ ุงูููุถูุฉ ุชุธูุฑ ููุง -->
      </div>
    </div>
  </div>
<!--ุงูุชุนุฑู ุนูู ุงูุทุนุงู --> 
<div class="popup" id="foodPopup">
   <div class="popup-content">
    <span class="close-btn" onclick="closePopup()">&times;</span>
    <h2>ุชุญููู ุงูุงุทุนูุฉ</h2>

    <div class="image-placeholder">
     <img id="foodImage" src="#" alt="ุตูุฑุฉ ุงูุทุนุงู"
      style="max-width: 100%; display: none;">
     <i class="bx bx-image-add" style="font-size: 5em;"></i>
     <p>ุงุฎุชุฑ ุตูุฑุฉ ุทุนุงู</p>
    </div>

    <input type="file" id="imageUpload" accept="image/*">
    <button onclick="analyzeImage()">ุชุญููู ุงูุตูุฑุฉ</button>

    <div class="food-info" id="foodInfo" style="display: none;">
     <h3>ูุชูุฌุฉ ุงูุชุญููู</h3>
     <img id="analyzedImage" src="#" alt="ุตูุฑุฉ ุงูุทุนุงู"
      style="max-width: 100%;">
     <p id="foodName">ุงุณู ุงูุทุนุงู: </p>
     <p id="foodComponents">ุงูููููุงุช: </p>
     <p id="foodNutrition">ุงูููู ุงูุบุฐุงุฆูุฉ: </p>
    </div>
   </div>
  </div>
  <!-- ุงููุงูุฐุฉ ุงูููุจุซูุฉ -->
 
  <!-- ุฒุฑ ุฏุงุฆุฑู ูุซุจุช ุฃุณูู ูุณุงุฑ -->
  <div id="floatingMenuBtn" aria-haspopup="true" aria-expanded="false" aria-label="ูุชุญ ุงููุงุฆูุฉ ุงูุณุฑูุนุฉ" role="button" tabindex="0">
    <i class="fas fa-plus"></i>
  </div>
  <div id="floatingMenuOptions" role="menu" aria-hidden="true">
    <button id="btnAddFood" role="menuitem"><i class="fas fa-utensils"></i> ุฅุถุงูุฉ ุทุนุงู</button>
    <button id="btnCreateFood" role="menuitem"><i class="fas fa-plus-circle"></i> ุฅูุดุงุก ุทุนุงู</button>
  <button id="openPopup" role="menuitem"><i class="bx bx-scan"></i>ุงูุชุนุฑู</button>
    <button id="btnFavorites" role="menuitem"><i class="fas fa-star"></i>ุงูููุถูุฉ</button>
  </div>
   <!-- Footer -->
  <footer
    class="flex justify-center items-center gap-6 py-4 text-xs text-gray-500"
    aria-label="ุญููู ุงูุทุจุน ูุงููุดุฑ ูุฑูุงุจุท ุงูุชูุงุตู ุงูุงุฌุชูุงุนู"
  >
    <span>ยฉ 2025 ุฌููุน ุงูุญููู ูุญููุธุฉ</span>
    <a
      href="https://t.me/"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="ุชูููุฌุฑุงู"
      class="text-blue-500 text-xl"
    >
      <i class="fab fa-telegram-plane"></i>
    </a>
    <a
      href="https://www.tiktok.com/"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="ุชูู ุชูู"
      class="text-black text-xl"
    >
      <i class="fab fa-tiktok"></i>
    </a>
    <a
      href="https://www.snapchat.com/"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="ุณูุงุจ ุดุงุช"
      class="text-yellow-400 text-xl"
    >
      <i class="fab fa-snapchat-ghost"></i>
    </a>
  </footer>
<script src="diet.js"></script>
</body>
</html>
